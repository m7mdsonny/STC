# ุงูุชุญูู ูู ุณูุฑ ุงูุนูู ุงููุงูู ูููุธุงู
## Complete Workflow Verification Guide

**ุงูุชุงุฑูุฎ:** 2026-01-13  
**ุงููุฏู:** ุงูุชุฃูุฏ ูู ุฃู ุณูุฑ ุงูุนูู ูุงูู ูู ุงูุจุฏุงูุฉ ููููุงูุฉ  
**ุงููุณุงุฑ:** ูุคุณุณุฉ โ ูุณุชุฎุฏู โ ุณูุฑูุฑ โ ูุงููุฑุง โ ุชุฑุฎูุต โ ุชุญูููุงุช โ ุฅุดุนุงุฑุงุช

---

## ๐ฏ ุณูุฑ ุงูุนูู ุงููุทููุจ

```
โโโโโโโโโโโโโโโ
โ  1. ูุคุณุณุฉ   โ  ุฅูุดุงุก ุงููุคุณุณุฉ
โโโโโโโโฌโโโโโโโ
       โ
โโโโโโโโโโโโโโโ
โ 2. ูุณุชุฎุฏู   โ  ุฅุถุงูุฉ ูุณุชุฎุฏููู ูููุคุณุณุฉ
โโโโโโโโฌโโโโโโโ
       โ
โโโโโโโโโโโโโโโ
โ  3. ุชุฑุฎูุต   โ  ุฑุจุท ุชุฑุฎูุต ุจุงููุคุณุณุฉ
โโโโโโโโฌโโโโโโโ
       โ
โโโโโโโโโโโโโโโ
โ  4. ุณูุฑูุฑ   โ  ุฅุถุงูุฉ Edge Server ูุฑุจุทู ุจุงูุชุฑุฎูุต
โโโโโโโโฌโโโโโโโ
       โ
โโโโโโโโโโโโโโโ
โ  5. ูุงููุฑุง  โ  ุฅุถุงูุฉ ูุงููุฑุงุช ููุณูุฑูุฑ
โโโโโโโโฌโโโโโโโ
       โ
โโโโโโโโโโโโโโโ
โ 6. ุงุชุตุงู    โ  ุงูุณูุฑูุฑ ุงููุญูู ูุชุตู ุจุงูู Cloud
โโโโโโโโฌโโโโโโโ
       โ
โโโโโโโโโโโโโโโ
โ 7. ุชุญูููุงุช  โ  ุงุณุชูุงู ูุชุญููู ุงูุฃุญุฏุงุซ ูู ุงูุณูุฑูุฑ
โโโโโโโโฌโโโโโโโ
       โ
โโโโโโโโโโโโโโโ
โ 8. ุฅุดุนุงุฑุงุช  โ  ุฅุฑุณุงู ุฅุดุนุงุฑุงุช ููุฑูุฉ ููุนููุงุก
โโโโโโโโโโโโโโโ
```

---

## โ ุงูุฎุทูุฉ 1: ุฅูุดุงุก ูุคุณุณุฉ

### ุงูุฃูุงูุฑ:

```bash
# 1. ุชุณุฌูู ุงูุฏุฎูู ูู Super Admin
# 2. ุงุฐูุจ ุฅูู: /admin/organizations
# 3. ุงุถุบุท "ุฅุถุงูุฉ ูุคุณุณุฉ"
```

### ุงูุจูุงูุงุช ุงููุทููุจุฉ:

```
ุงูุงุณู: "ุดุฑูุฉ ุงูุงุฎุชุจุงุฑ"
ุงูุงุณู ุจุงูุฅูุฌููุฒูุฉ: "Test Company"
ุงูุจุฑูุฏ: "test@company.com"
ุงููุงุชู: "0500000000"
ุงููุฏููุฉ: "ุงูุฑูุงุถ"
ุงูุจุงูุฉ: "Professional"
ุงูุญุฏ ุงูุฃูุตู ูููุงููุฑุงุช: 20
ุงูุญุฏ ุงูุฃูุตู ููุณูุฑูุฑุงุช: 3
```

### ุงููุญุต:

```sql
-- ุงูุชุญูู ูู ุฅูุดุงุก ุงููุคุณุณุฉ
SELECT * FROM organizations WHERE email = 'test@company.com';
```

**ุงููุชูุฌุฉ ุงููุชููุนุฉ:** โ ูุคุณุณุฉ ุฌุฏูุฏุฉ ุจู ID ูุญุฏุฏ

---

## โ ุงูุฎุทูุฉ 2: ุฅุถุงูุฉ ูุณุชุฎุฏู ูููุคุณุณุฉ

### ุงูุฃูุงูุฑ:

```bash
# 1. ุงุฐูุจ ุฅูู: /admin/users
# 2. ุงุถุบุท "ุฅุถุงูุฉ ูุณุชุฎุฏู"
```

### ุงูุจูุงูุงุช ุงููุทููุจุฉ:

```
ุงูุงุณู: "ุฃุญูุฏ ูุญูุฏ"
ุงูุจุฑูุฏ: "ahmed@testcompany.com"
ูููุฉ ุงููุฑูุฑ: "password123"
ุงูุฏูุฑ: "owner"
ุงููุคุณุณุฉ: "ุดุฑูุฉ ุงูุงุฎุชุจุงุฑ"
ูุดุท: ูุนู
```

### ุงููุญุต:

```sql
-- ุงูุชุญูู ูู ุฅูุดุงุก ุงููุณุชุฎุฏู
SELECT u.*, o.name as org_name 
FROM users u
JOIN organizations o ON u.organization_id = o.id
WHERE u.email = 'ahmed@testcompany.com';
```

**ุงููุชูุฌุฉ ุงููุชููุนุฉ:** โ ูุณุชุฎุฏู ุฌุฏูุฏ ูุฑุชุจุท ุจุงููุคุณุณุฉ

### ุงุฎุชุจุงุฑ ุชุณุฌูู ุงูุฏุฎูู:

```
1. ุณุฌู ุงูุฎุฑูุฌ ูู ุญุณุงุจ Super Admin
2. ุณุฌู ุงูุฏุฎูู ุจุญุณุงุจ ุงููุณุชุฎุฏู ุงูุฌุฏูุฏ:
   - ุงูุจุฑูุฏ: ahmed@testcompany.com  
   - ูููุฉ ุงููุฑูุฑ: password123
3. ูุฌุจ ุฃู ุชุธูุฑ ููุญุฉ ุงูุชุญูู ุงูุฎุงุตุฉ ุจุงููุคุณุณุฉ
```

---

## โ ุงูุฎุทูุฉ 3: ุฅุถุงูุฉ ุชุฑุฎูุต ูููุคุณุณุฉ

### ุงูุฃูุงูุฑ:

```bash
# ูู Super Admin
# 1. ุงุฐูุจ ุฅูู: /admin/licenses
# 2. ุงุถุบุท "ุฅุถุงูุฉ ุชุฑุฎูุต"
```

### ุงูุจูุงูุงุช ุงููุทููุจุฉ:

```
ุงููุคุณุณุฉ: "ุดุฑูุฉ ุงูุงุฎุชุจุงุฑ"
ุงูุจุงูุฉ: "Professional"
ููุชุงุญ ุงูุชุฑุฎูุต: [ูุชู ุชูููุฏู ุชููุงุฆูุงู]
ุงูุญุฏ ุงูุฃูุตู ูููุงููุฑุงุช: 20
ุงูุญุฏ ุงูุฃูุตู ููุณูุฑูุฑุงุช: 3
ุชุงุฑูุฎ ุงูุจุฏุก: [ุงูููู]
ุชุงุฑูุฎ ุงูุงูุชูุงุก: [ุจุนุฏ ุณูุฉ]
ุงูุญุงูุฉ: "active"
```

### ุงููุญุต:

```sql
-- ุงูุชุญูู ูู ุฅูุดุงุก ุงูุชุฑุฎูุต
SELECT l.*, o.name as org_name 
FROM licenses l
JOIN organizations o ON l.organization_id = o.id
WHERE o.email = 'test@company.com';
```

**ุงููุชูุฌุฉ ุงููุชููุนุฉ:** โ ุชุฑุฎูุต ูุดุท ูุฑุชุจุท ุจุงููุคุณุณุฉ

---

## โ ุงูุฎุทูุฉ 4: ุฅุถุงูุฉ Edge Server

### ุงูุฃูุงูุฑ:

```bash
# ูู Owner/Admin ูููุคุณุณุฉ
# 1. ุณุฌู ุงูุฏุฎูู ุจุญุณุงุจ ahmed@testcompany.com
# 2. ุงุฐูุจ ุฅูู: /settings โ ุงูุณูุฑูุฑุงุช
# 3. ุงุถุบุท "ุฅุถุงูุฉ ุณูุฑูุฑ"
```

### ุงูุจูุงูุงุช ุงููุทููุจุฉ:

```
ุงูุงุณู: "ุณูุฑูุฑ ุงููุฑุน ุงูุฑุฆูุณู"
ุนููุงู IP: "192.168.1.100"
ุงููููุน: "ุงููุจูู A - ุงูุทุงุจู ุงูุฃูู"
ุงูุชุฑุฎูุต: [ุงุฎุชุฑ ุงูุชุฑุฎูุต ุงูุฐู ุฃูุดุฃูุงู]
```

### ุงููุญุต:

```sql
-- ุงูุชุญูู ูู ุฅูุดุงุก ุงูุณูุฑูุฑ
SELECT es.*, l.license_key, o.name as org_name
FROM edge_servers es
LEFT JOIN licenses l ON es.license_id = l.id
LEFT JOIN organizations o ON es.organization_id = o.id
WHERE es.name = 'ุณูุฑูุฑ ุงููุฑุน ุงูุฑุฆูุณู';
```

**ุงููุชูุฌุฉ ุงููุชููุนุฉ:** 
- โ Edge Server ุฌุฏูุฏ
- โ edge_id ู edge_key ุชู ุชูููุฏูู
- โ ูุฑุชุจุท ุจุงููุคุณุณุฉ ูุงูุชุฑุฎูุต

### ุชุณุฌูู ููุงุญุธุงุช ูููุฉ:

```
Edge ID: [ูุฌุจ ุญูุธู ูุงุณุชุฎุฏุงูู ูู Edge Server ุงููุญูู]
Edge Key: [ูุฌุจ ุญูุธู ูุงุณุชุฎุฏุงูู ูู Edge Server ุงููุญูู]  
Edge Secret: [ูุธูุฑ ูุฑุฉ ูุงุญุฏุฉ ููุท - ูุฌุจ ุญูุธู!]
```

---

## โ ุงูุฎุทูุฉ 5: ุฅุถุงูุฉ ูุงููุฑุง ููุณูุฑูุฑ

### ุงูุฃูุงูุฑ:

```bash
# ูู Owner/Admin ูููุคุณุณุฉ
# 1. ุงุฐูุจ ุฅูู: /cameras
# 2. ุงุถุบุท "ุฅุถุงูุฉ ูุงููุฑุง"
```

### ุงูุจูุงูุงุช ุงููุทููุจุฉ:

```
ุงูุงุณู: "ูุงููุฑุง ุงููุฏุฎู ุงูุฑุฆูุณู"
ุณูุฑูุฑ ุงูุญุงูุฉ: "ุณูุฑูุฑ ุงููุฑุน ุงูุฑุฆูุณู"
RTSP URL: "rtsp://admin:password@192.168.1.10:554/stream"
ุงููููุน: "ุงููุฏุฎู ุงูุฑุฆูุณู"
ุงุณู ุงููุณุชุฎุฏู: "admin"
ูููุฉ ุงููุฑูุฑ: "password"
ุงูุฏูุฉ: "1920x1080"
ูุนุฏู ุงูุฅุทุงุฑุงุช: 15
ุงููุญุฏุงุช ุงูููุนูุฉ: ["face_recognition", "intrusion_detection"]
```

### ุงููุญุต:

```sql
-- ุงูุชุญูู ูู ุฅูุดุงุก ุงููุงููุฑุง
SELECT c.*, es.name as edge_server_name, o.name as org_name
FROM cameras c
JOIN edge_servers es ON c.edge_server_id = es.id
JOIN organizations o ON c.organization_id = o.id
WHERE c.name = 'ูุงููุฑุง ุงููุฏุฎู ุงูุฑุฆูุณู';
```

**ุงููุชูุฌุฉ ุงููุชููุนุฉ:**
- โ ูุงููุฑุง ุฌุฏูุฏุฉ
- โ ูุฑุชุจุทุฉ ุจุงูุณูุฑูุฑ ูุงููุคุณุณุฉ
- โ RTSP URL ูุญููุธ ููุดูุฑ

---

## โ ุงูุฎุทูุฉ 6: ุงุชุตุงู ุงูุณูุฑูุฑ ุงููุญูู ุจุงูู Cloud

### ุนูู ุงูุณูุฑูุฑ ุงููุญูู (Edge Server):

```bash
# 1. ุชุซุจูุช Edge Server Software
# 2. ุชูููู ููู config.json:

{
  "cloud_api_url": "https://api.stcsolutions.online/api/v1",
  "edge_id": "[Edge ID ูู ุงูุฎุทูุฉ 4]",
  "edge_key": "[Edge Key ูู ุงูุฎุทูุฉ 4]",
  "edge_secret": "[Edge Secret ูู ุงูุฎุทูุฉ 4]",
  "heartbeat_interval": 30,
  "cameras": []
}

# 3. ุชุดุบูู Edge Server:
python edge_server.py
```

### ุงูุชุญูู ูู ุงูุงุชุตุงู:

```bash
# ุนูู ุงูุณูุฑูุฑ ุงููุญูู - ูุฌุจ ุฃู ูุธูุฑ ูู logs:
[INFO] Successfully connected to Cloud API
[INFO] Heartbeat sent - Status: OK
[INFO] Synced 1 cameras from Cloud
```

### ุงูุชุญูู ูู Cloud:

```sql
-- ุงูุชุญูู ูู heartbeat
SELECT id, name, online, last_seen_at, version
FROM edge_servers
WHERE name = 'ุณูุฑูุฑ ุงููุฑุน ุงูุฑุฆูุณู';
```

**ุงููุชูุฌุฉ ุงููุชููุนุฉ:**
- โ `online = 1`
- โ `last_seen_at` ูุญุฏุซ
- โ `version` ูุนุฑุถ ุฑูู ุฅุตุฏุงุฑ Edge Server

---

## โ ุงูุฎุทูุฉ 7: ูุนุงูุฌุฉ ูุฅุฑุณุงู ุงูุชุญูููุงุช

### ุนูู ุงูุณูุฑูุฑ ุงููุญูู:

ุนูุฏูุง ุชูุชุดู ุงููุงููุฑุง ุญุฏุซ (ูุซู: ูุฌู):

```json
// ููุฑุณู Edge Server ุญุฏุซ ุฅูู Cloud:
POST https://api.stcsolutions.online/api/v1/edges/events
{
  "edge_key": "edge_xxx",
  "camera_id": "camera_xxx",
  "module": "face_recognition",
  "event_type": "face_detected",
  "confidence": 0.95,
  "timestamp": "2026-01-13T21:00:00Z",
  "meta": {
    "person_id": "EMP001",
    "person_name": "ุฃุญูุฏ ูุญูุฏ"
  },
  "image_url": "https://..."
}
```

### ุงูุชุญูู ูู Cloud:

```sql
-- ุงูุชุญูู ูู ุงุณุชูุงู ุงูุญุฏุซ
SELECT *
FROM events
WHERE camera_id IN (
  SELECT id FROM cameras WHERE name = 'ูุงููุฑุง ุงููุฏุฎู ุงูุฑุฆูุณู'
)
ORDER BY created_at DESC
LIMIT 10;
```

**ุงููุชูุฌุฉ ุงููุชููุนุฉ:**
- โ Events ุชูุณุฌูู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
- โ Metadata ูุญููุธ ุจุดูู ุตุญูุญ
- โ Timestamps ุตุญูุญุฉ

---

## โ ุงูุฎุทูุฉ 8: ุฅุฑุณุงู ุฅุดุนุงุฑุงุช ููุฑูุฉ

### ุงูุชุญูู ูู ุฅุนุฏุงุฏุงุช ุงูุฅุดุนุงุฑุงุช:

```bash
# 1. ูู Owner/Adminุ ุงุฐูุจ ุฅูู: /settings โ ุงูุฅุดุนุงุฑุงุช
# 2. ุชุฃูุฏ ูู ุชูุนูู:
#    - ุฅุดุนุงุฑุงุช ุงูุฏูุน (Push Notifications)
#    - ุงูุจุฑูุฏ ุงูุฅููุชุฑููู
#    - SMS (ุงุฎุชูุงุฑู)
```

### ุงุฎุชุจุงุฑ ุงูุฅุดุนุงุฑุงุช:

```bash
# 1. ูู /settings โ ุงูุฅุดุนุงุฑุงุช
# 2. ุงุถุบุท "ุงุฎุชุจุงุฑ ุงูุฅุดุนุงุฑ"
# 3. ูุฌุจ ุฃู ูุตู ุฅุดุนุงุฑ ููุฑู
```

### ุงูุชุญูู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช:

```sql
-- ุงูุชุญูู ูู ุณุฌู ุงูุฅุดุนุงุฑุงุช
SELECT n.*, u.name as user_name
FROM notifications n
JOIN users u ON n.user_id = u.id
WHERE u.organization_id IN (
  SELECT id FROM organizations WHERE email = 'test@company.com'
)
ORDER BY created_at DESC
LIMIT 10;
```

### ุงูุชุญูู ูู FCM Tokens:

```sql
-- ุงูุชุญูู ูู ุชุณุฌูู ุงูุฃุฌูุฒุฉ
SELECT *
FROM device_tokens
WHERE user_id IN (
  SELECT id FROM users WHERE email = 'ahmed@testcompany.com'
);
```

**ุงููุชูุฌุฉ ุงููุชููุนุฉ:**
- โ ุฅุดุนุงุฑุงุช ุชูุฑุณู ุจูุฌุงุญ
- โ ุงูุฅุดุนุงุฑุงุช ุชุตู ููุฃุฌูุฒุฉ ุงููุณุฌูุฉ
- โ ุงูุจุฑูุฏ ุงูุฅููุชุฑููู ููุฑุณู (ุฅุฐุง ูููุนูู)
- โ SMS ููุฑุณู (ุฅุฐุง ูููุนูู)

---

## ๐ ุงุฎุชุจุงุฑุงุช ุฅุถุงููุฉ

### ุงุฎุชุจุงุฑ ุณููุงุฑูู ูุงูู:

#### Scenario: ูุดู ูุฌู ููุธู ุนูุฏ ุงููุฏุฎู

```
1. ุงูููุธู "ุฃุญูุฏ ูุญูุฏ" ูุฏุฎู ุงููุจูู
2. ูุงููุฑุง ุงููุฏุฎู ุชูุชูุท ูุฌูู
3. Edge Server ูุนุงูุฌ ุงูุตูุฑุฉ (Face Recognition Module)
4. ููุชุดู ุงููุฌู ูุน ุซูุฉ 95%
5. ููุฑุณู ุญุฏุซ ุฅูู Cloud API
6. Cloud ูุทุงุจู ุงููุฌู ูุน ูุงุนุฏุฉ ุงูุจูุงูุงุช
7. ูููุดุฆ alert/event ูู ุงููุธุงู
8. ููุณุฌูู ูู Analytics
9. ููุฑุณู ุฅุดุนุงุฑ ูู:
   - ูุฏูุฑ ุงูุฃูู
   - ุชุณุฌูู ุงูุญุถูุฑ
10. ููุณุฌูู ูู attendance_logs (ุฅุฐุง ูููุนูู)
```

#### ููููุฉ ุงูุงุฎุชุจุงุฑ:

```bash
# 1. ุฅุถุงูุฉ "ุฃุญูุฏ ูุญูุฏ" ูู /people:
ุงูุงุณู: ุฃุญูุฏ ูุญูุฏ
ุฑูู ุงูููุธู: EMP001
ุงููุณู: ุชูููุฉ ุงููุนูููุงุช
ุงููุฆุฉ: employee
ุงูุตูุฑุฉ: [ุฑูุน ุตูุฑุฉ]

# 2. ุชูุนูู Face Recognition Module ูู ุงููุงููุฑุง

# 3. ุนูู Edge Server: ูุญุงูุงุฉ ูุดู ูุฌู
curl -X POST https://api.stcsolutions.online/api/v1/edges/events \
  -H "X-EDGE-KEY: [edge_key]" \
  -H "X-EDGE-SIGNATURE: [hmac_signature]" \
  -H "Content-Type: application/json" \
  -d '{
    "camera_id": "[camera_id]",
    "module": "face_recognition",
    "event_type": "face_detected",
    "confidence": 0.95,
    "meta": {
      "person_id": "EMP001",
      "person_name": "ุฃุญูุฏ ูุญูุฏ"
    }
  }'

# 4. ุงูุชุญูู ูู:
# - ูู /alerts: ูุฌุจ ุฃู ูุธูุฑ alert ุฌุฏูุฏ
# - ูู /analytics: ูุฌุจ ุฃู ููุญุณุจ ูู ุงูุฅุญุตุงุฆูุงุช
# - ูู ุงูุฅุดุนุงุฑุงุช: ูุฌุจ ุฃู ูุตู ูููุณุชุฎุฏููู ุงููุนูููู
# - ูู /attendance: ูุฌุจ ุฃู ููุณุฌูู ุงูุญุถูุฑ
```

---

## ๐งช ุงุฎุชุจุงุฑุงุช ุงูููุฏูููุงุช

### Face Recognition (ุงูุชุนุฑู ุนูู ุงููุฌูู)

```
โ ุฅุถุงูุฉ ุฃุดุฎุงุต ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
โ ุฑูุน ุตูุฑ ููุฃุดุฎุงุต
โ ูุดู ูุฌู ูุนุฑูู โ ุฅุดุนุงุฑ
โ ูุดู ูุฌู ุบูุฑ ูุนุฑูู โ ุชุณุฌูู
โ ูุดู ูุงุฆูุฉ ุณูุฏุงุก โ ุชูุจูู ุนุงุฌู
```

### License Plate Recognition (ููุญุงุช ุงููุฑูุจุงุช)

```
โ ุฅุถุงูุฉ ูุฑูุจุงุช ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช  
โ ูุดู ููุญุฉ ูุนุฑููุฉ โ ูุชุญ ุงูุจูุงุจุฉ
โ ูุดู ููุญุฉ VIP โ ุฅุดุนุงุฑ ุงูุงุณุชูุจุงู
โ ูุดู ููุญุฉ ูุงุฆูุฉ ุณูุฏุงุก โ ุชูุจูู ุฃููู
```

### Fire Detection (ูุดู ุงูุญุฑุงุฆู)

```
โ ูุดู ุฏุฎุงู/ุญุฑูู โ ุชูุจูู ููุฑู
โ ุชูุนูู ุฃูุงูุฑ ุชููุงุฆูุฉ:
  - ุชุดุบูู ุงูุณุฑููุฉ
  - ูุชุญ ุฃุจูุงุจ ุงูุทูุงุฑุฆ
  - ุงุชุตุงู ุทูุงุฑุฆ
```

### Intrusion Detection (ูุดู ุงูุชุณูู)

```
โ ูุดู ุญุฑูุฉ ูู ููุทูุฉ ูุญููุฉ
โ ูุดู ุดุฎุต ูู ููุช ุบูุฑ ูุตุฑุญ
โ ุฅุดุนุงุฑ ููุฑู ููุฃูู
```

### PPE Detection (ูุนุฏุงุช ุงูุญูุงูุฉ)

```
โ ูุดู ุนุงูู ุจุฏูู ุฎูุฐุฉ
โ ูุดู ุนุงูู ุจุฏูู ุณุชุฑุฉ ุฃูุงู
โ ุชูุจูู ุงููุดุฑู
```

---

## ๐ ูุฑุงูุจุฉ ุงูุฃุฏุงุก

### ููุงููุณ ูููุฉ:

```sql
-- 1. ุนุฏุฏ ุงูุฃุญุฏุงุซ ุงูููููุฉ
SELECT COUNT(*) as today_events
FROM events
WHERE DATE(created_at) = CURDATE()
AND organization_id = [org_id];

-- 2. ูุนุฏู ุงูุฅุดุนุงุฑุงุช
SELECT COUNT(*) as notifications_sent
FROM notifications
WHERE DATE(created_at) = CURDATE()
AND organization_id = [org_id];

-- 3. ุงููุงููุฑุงุช ุงููุดุทุฉ
SELECT COUNT(*) as active_cameras
FROM cameras
WHERE status = 'online'
AND organization_id = [org_id];

-- 4. ุงูุณูุฑูุฑุงุช ุงููุชุตูุฉ
SELECT COUNT(*) as online_servers
FROM edge_servers
WHERE online = 1
AND organization_id = [org_id];

-- 5. ูุนุฏู ุงุณุชุฌุงุจุฉ ุงูุฅุดุนุงุฑุงุช
SELECT AVG(TIMESTAMPDIFF(SECOND, e.created_at, n.created_at)) as avg_response_time
FROM events e
JOIN notifications n ON n.alert_id = e.id
WHERE DATE(e.created_at) = CURDATE()
AND e.organization_id = [org_id];
```

---

## โ ูุงุฆูุฉ ุงููุญุต ุงูููุงุฆูุฉ

### ุงูุจููุฉ ุงูุชุญุชูุฉ:
- [ ] โ ุงููุคุณุณุฉ ุชู ุฅูุดุงุคูุง
- [ ] โ ุงููุณุชุฎุฏููู ูููููู ุชุณุฌูู ุงูุฏุฎูู
- [ ] โ ุงูุชุฑุฎูุต ูุดุท ูุตุงูุญ
- [ ] โ Edge Server ูุถุงู ููุฑุจูุท
- [ ] โ ุงููุงููุฑุงุช ูุถุงูุฉ ููุฑุจูุทุฉ ุจุงูุณูุฑูุฑ

### ุงูุงุชุตุงู:
- [ ] โ Edge Server ูุชุตู ุจู Cloud
- [ ] โ Heartbeat ูุนูู ุจุดูู ููุชุธู
- [ ] โ Config sync ูุนูู
- [ ] โ Camera sync ูุนูู

### ูุนุงูุฌุฉ ุงูุฃุญุฏุงุซ:
- [ ] โ Events ุชูุฑุณู ูู Edge ุฅูู Cloud
- [ ] โ Events ุชูุณุฌูู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
- [ ] โ Alerts ุชููุดุฃ ุชููุงุฆูุงู
- [ ] โ Analytics ุชูุญุฏูุซ ูู ุงูููุช ุงููุนูู

### ุงูุฅุดุนุงุฑุงุช:
- [ ] โ Push notifications ุชุนูู
- [ ] โ Email notifications ุชุนูู
- [ ] โ SMS notifications ุชุนูู (ุฅุฐุง ูููุนูู)
- [ ] โ In-app notifications ุชุนูู

### ุงูุฃุชูุชุฉ:
- [ ] โ Automation rules ูููู ุฅูุดุงุคูุง
- [ ] โ Rules ุชููููุฐ ุนูุฏ ุงูุฃุญุฏุงุซ
- [ ] โ Integrations ุชุนูู (Arduino, GPIO, etc.)
- [ ] โ Commands ุชูุฑุณู ูุชููููุฐ

---

## ๐จ ุงููุดุงูู ุงููุญุชููุฉ ูุญููููุง

### ูุดููุฉ: Edge Server ูุง ูุชุตู

**ุงูุฃุณุจุงุจ ุงููุญุชููุฉ:**
1. Firewall ูุญุฌุจ ุงููููุฐ
2. Edge Key ุฃู Secret ุฎุงุทุฆ
3. URL ุบูุฑ ุตุญูุญ
4. HMAC signature ุฎุงุทุฆ

**ุงูุญู:**
```bash
# ูุญุต ุงูุงุชุตุงู:
curl -X POST https://api.stcsolutions.online/api/v1/edges/heartbeat \
  -H "Content-Type: application/json" \
  -d '{"edge_id": "[edge_id]", "version": "1.0.0", "online": true}'

# ูุฌุจ ุฃู ูุฑุฌุน: {"ok": true, ...}
```

### ูุดููุฉ: ุงููุงููุฑุง ูุง ุชุฑุณู ุฃุญุฏุงุซ

**ุงูุฃุณุจุงุจ ุงููุญุชููุฉ:**
1. RTSP URL ุฎุงุทุฆ
2. Camera offline
3. Module ุบูุฑ ูููุนูู
4. Edge Server ูุง ูุนุงูุฌ

**ุงูุญู:**
```bash
# ุงุฎุชุจุงุฑ RTSP:
ffmpeg -i rtsp://admin:password@192.168.1.10:554/stream -frames:v 1 test.jpg

# ูุฌุจ ุฃู ูุญูุธ ุตูุฑุฉ ุจูุฌุงุญ
```

### ูุดููุฉ: ุงูุฅุดุนุงุฑุงุช ูุง ุชุตู

**ุงูุฃุณุจุงุจ ุงููุญุชููุฉ:**
1. FCM token ุบูุฑ ูุณุฌู
2. Settings ุบูุฑ ูููุนููุฉ
3. Alert priorities ุบูุฑ ูุถุจูุทุฉ
4. Queue worker ูุง ูุนูู

**ุงูุญู:**
```bash
# ุนูู Cloud Server:
php artisan queue:work --queue=notifications

# ูุญุต FCM configuration:
php artisan tinker
>>> config('services.fcm.key')
```

---

## ๐ ูุคุดุฑุงุช ุงููุฌุงุญ

### ููุนุชุจุฑ ุงููุธุงู ูุนูู ุจุดูู ูุงูู ุฅุฐุง:

โ **ุงูุจููุฉ ุงูุชุญุชูุฉ:**
- ูููู ุฅูุดุงุก ูุคุณุณุงุช ุฌุฏูุฏุฉ
- ูููู ุฅุถุงูุฉ ูุณุชุฎุฏููู ููููููู ุชุณุฌูู ุงูุฏุฎูู
- ูููู ุฅุถุงูุฉ ุชุฑุงุฎูุต ูุฑุจุทูุง
- ูููู ุฅุถุงูุฉ ุณูุฑูุฑุงุช ูุชุธูุฑ online
- ูููู ุฅุถุงูุฉ ูุงููุฑุงุช ูุชุธูุฑ online

โ **ุงููุนุงูุฌุฉ:**
- Edge Server ูุฑุณู heartbeat ูู 30 ุซุงููุฉ
- ุงูุฃุญุฏุงุซ ุชูุฑุณู ูู Edge ุฅูู Cloud
- ุงูุฃุญุฏุงุซ ุชูุนุงูุฌ ูุชูุญููู ุจุดูู ุตุญูุญ
- Analytics ุชูุญุฏูุซ ูู ุงูููุช ุงููุนูู

โ **ุงูุฅุดุนุงุฑุงุช:**
- ุงูุฅุดุนุงุฑุงุช ุชุตู ุฎูุงู 5 ุซูุงู ูู ุงูุญุฏุซ
- ุฌููุน ูููุงุช ุงูุฅุดุนุงุฑุงุช ุชุนูู
- Automation rules ุชููููุฐ ุชููุงุฆูุงู

โ **ูุงุฌูุฉ ุงููุณุชุฎุฏู:**
- ุฌููุน ุงูุตูุญุงุช ุชูุญููู ุจุฏูู ุฃุฎุทุงุก
- ุงูุจูุงูุงุช ุชุธูุฑ ุจุดูู ุตุญูุญ
- ูููู ุฅุฌุฑุงุก ุฌููุน ุงูุนูููุงุช (CRUD)
- ุฑุณุงุฆู ุงูุฎุทุฃ ูุงุถุญุฉ ููููุฏุฉ

---

## ๐ฏ ุงูุฎูุงุตุฉ

ุฅุฐุง ุงูุชููุช **ุฌููุน ุงูุฎุทูุงุช** ุฃุนูุงู ุจูุฌุงุญุ ูุงููุธุงู ูุนูู ุจุดูู ูุงูู ูู ุงูุจุฏุงูุฉ ููููุงูุฉ! โจ

**ุงูุฎุทูุงุช ุงูุชุงููุฉ:**
1. โ ูุดุฑ ุงููุธุงู ูู production
2. โ ุชุฏุฑูุจ ุงููุณุชุฎุฏููู
3. โ ูุฑุงูุจุฉ ุงูุฃุฏุงุก
4. โ ุฌูุน feedback ูุชุญุณูู ูุณุชูุฑ

---

**ุชู ุฅุนุฏุงุฏ ูุฐุง ุงูุฏููู ูุถูุงู ุฃู ูู ุฌุฒุก ูู ุงููุธุงู ูุนูู ุจุดูู ูุชูุงูู! ๐**
